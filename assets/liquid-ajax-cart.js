var t={d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{j:()=>c});const o=[],r=(t,e)=>{const r=(t=>{switch(t){case"add":return"/cart/add.js";case"change":return"/cart/change.js";case"get":return"/cart.js";default:return}})(t),s="get"===t?void 0:{...e},n="get"===t?"GET":"POST";o.forEach((e=>{try{e({requestType:t,endpoint:r,requestBody:s})}catch(t){console.error("Liquid Ajax Cart: Error during callback in Ajax Api"),console.error(t)}}));const i={method:n,headers:{"Content-Type":"application/json"}};return"get"!==t&&(i.body=JSON.stringify(s)),fetch(r,i).then((t=>t.json().then((e=>({ok:t.ok,status:t.status,body:e}))))).then((e=>(o.forEach((o=>{try{o({requestType:t,endpoint:r,requestBody:s,responseData:e})}catch(t){console.error("Liquid Ajax Cart: Error during callback"),console.error(t)}})),e))).catch((t=>{console.log(t)}))},s=()=>r("get"),n=t=>{o.push(t)},i={dataAttributePrefix:"data-ajax-cart",cssClassesPrefix:"js-ajax-cart",productFormsFilter:t=>!0,requestInProgressBodyClass:"js-ajax-cart-request-in-progress",cartStateSetBodyClass:"js-ajax-cart-set",emptyCartBodyClass:"js-ajax-cart-empty",productFormsIgnoreSubmitOnProcessing:!0,productFormsProcessingClass:"js-ajax-cart-form-in-progress",productFormsButtonProcessingClass:"js-ajax-cart-button-in-progress",productFormsButtonProcessingDisabledAttribute:!1};let a={};const c=(t={})=>{a={...i,...t},a.computed={productFormsErrorsAttribute:`${a.dataAttributePrefix}-form-error`,sectionsAttribute:`${a.dataAttributePrefix}-section`,binderAttribute:`${a.dataAttributePrefix}-bind-state`,quantityButtonAttribute:`${a.dataAttributePrefix}-quantity-button`,toggleClassButtonAttribute:`${a.dataAttributePrefix}-toggle-class-button`,toggleClassPrefix:`${a.cssClassesPrefix}-toggle-`,initialStateAttribute:`${a.dataAttributePrefix}-initial-state`,sectionScrollAreaAttribute:`${a.dataAttributePrefix}-section-scroll`}};c();const u={all:0},l=[];let d={},p={requestInProgress:!1,cartStateSet:!1};const m=()=>{p.requestInProgress=u.all>0,p.cartStateSet="item_count"in d},f=t=>{try{t({cart:d,status:p}),l.push(t)}catch(t){console.log("Liquid Ajax Cart: Error during subscribing to the state"),console.error(t)}},y=()=>({cart:d,status:p}),g=()=>{l.forEach((t=>{try{t({cart:d,status:p})}catch(t){console.error(t)}}))};(()=>{n((t=>{"responseData"in t?(t=>{u.all--,t.responseData.ok&&("add"!==t.requestType?d=t.responseData.body:s())})(t):u.all++,m(),g()}));const t=document.querySelector(`[${a.computed.initialStateAttribute}]`);if(t)try{const e=JSON.parse(t.textContent);if(!("item_count"in e))throw`JSON from ${a.computed.initialStateAttribute} script is not correct cart object`;d=e,m(),g()}catch(t){console.error(`Can't parse cart JSON from ${a.computed.initialStateAttribute} script`),console.error(t),s()}else s()})();const b=a.computed.binderAttribute,h=t=>{const[e,...o]=t.split("|");let r=S(e);return o.forEach((t=>{const e=t.trim();""!==e&&e in A&&(r=A[e](r))})),r};function S(t,e=y()){y();const o=t.split("."),r=o.shift().trim();return r in e&&o.length>0?S(o.join("."),e[r]):e[r]}const A={amount:t=>{if("Shopify"in window&&"formatMoney"in Shopify)return Shopify.formatMoney(t,"{{ amount }}")},amount_no_decimals:t=>{if("Shopify"in window&&"formatMoney"in Shopify)return Shopify.formatMoney(t,"{{ amount_no_decimals }}")},amount_with_comma_separator:t=>{if("Shopify"in window&&"formatMoney"in Shopify)return Shopify.formatMoney(t,"{{ amount_with_comma_separator }}")},amount_no_decimals_with_comma_separator:t=>{if("Shopify"in window&&"formatMoney"in Shopify)return Shopify.formatMoney(t,"{{ amount_no_decimals_with_comma_separator }}")},amount_with_apostrophe_separator:t=>{if("Shopify"in window&&"formatMoney"in Shopify)return Shopify.formatMoney(t,"{{ amount_with_apostrophe_separator }}")}};function q(t){t.preventDefault();const{quantityButtonAttribute:e}=a.computed;if(!y().status.requestInProgress){const[t,s]=this.getAttribute(e).split("|");o={id:t.trim(),quantity:parseInt(s.trim())},r("change",o)}var o}function P(t){t.preventDefault();const{toggleClassButtonAttribute:e}=a.computed,o=this.getAttribute(e).split("|");if(!o)return void console.error("Liquid Ajax Cart: Error while toggling body class");const r=o[0].trim();let s=o[1]?o[1].trim():"toggle";if("add"!==s&&"remove"!==s&&(s="toggle"),r)try{"add"===s?document.body.classList.add(r):"remove"===s?document.body.classList.remove(r):document.body.classList.toggle(r)}catch(t){console.error("Liquid Ajax Cart: Error while toggling body class:",r),console.error(t)}}f((t=>{t.status.cartStateSet&&document.querySelectorAll(`[${b}]`).forEach((t=>{const e=t.getAttribute(b),o=h(e);void 0!==o&&(t.innerText=o)}))})),n((t=>{const{sectionsAttribute:e,sectionScrollAreaAttribute:o}=a.computed;if("responseData"in t){if(t.responseData.ok&&"sections"in t.responseData.body){const r=t.responseData.body.sections;for(let t in r)document.querySelectorAll(`#shopify-section-${t} > [${e}]`).forEach((e=>{const s="__noId__",n={},i=e.parentNode;e.parentNode.querySelectorAll(` [${o}] `).forEach((t=>{let e=t.getAttribute(o).toString().trim();""===e&&(e=s),e in n||(n[e]=[]),console.log(e),n[e].push(t.scrollTop)})),i.insertAdjacentHTML("beforeBegin",r[t]);const a=i.previousSibling;i.parentElement.removeChild(i);for(let t in n)a.querySelectorAll(` [${o}="${t.replace(s,"")}"] `).forEach(((e,o)=>{o+1<=n[t].length&&(e.scrollTop=n[t][o])}))}))}}else if(void 0!==t.requestBody){const o=[];document.querySelectorAll(`[${e}]`).forEach((t=>{let e=t.parentElement.id;if(0===e.indexOf("shopify-section-")){const t=e.replace("shopify-section-","");-1===o.indexOf(t)&&o.push(t)}})),o.length&&(t.requestBody.sections=o.join(","))}})),document.addEventListener("click",(function(t){const{quantityButtonAttribute:e,toggleClassButtonAttribute:o}=a.computed;for(var r=t.target;r&&r!=this;r=r.parentNode){if(r.matches(`[${e}]`)){q.call(r,t);break}if(r.matches(`[${o}]`)){P.call(r,t);break}}}),!1);const _=new WeakMap;function C(t,e=""){t.querySelectorAll(`[${a.computed.productFormsErrorsAttribute}]`).forEach((t=>{t.innerText=e||""})),t.querySelectorAll("input[type=submit], button[type=submit]");const o=_.get(t);a.productFormsProcessingClass&&(o>0?t.classList.add(a.productFormsProcessingClass):t.classList.remove(a.productFormsProcessingClass)),(a.productFormsButtonProcessingClass||a.productFormsButtonProcessingDisabledAttribute)&&t.querySelectorAll("input[type=submit], button[type=submit]").forEach((t=>{o>0?(a.productFormsButtonProcessingClass&&t.classList.add(a.productFormsButtonProcessingClass),a.productFormsButtonProcessingDisabledAttribute&&(t.disabled=!0)):(a.productFormsButtonProcessingClass&&t.classList.remove(a.productFormsButtonProcessingClass),a.productFormsButtonProcessingDisabledAttribute&&(t.disabled=!1))}))}document.addEventListener("submit",(t=>{const e=t.target;let o,s="";if("/cart/add"!==new URL(t.target.action).pathname)return;if("productFormsFilter"in a&&!a.productFormsFilter(e))return;if(t.preventDefault(),o=_.get(e),o>0||(o=0),a.productFormsIgnoreSubmitOnProcessing&&o>0)return;const n=new FormData(e),i={};for(let t of n){const e=t[0],o=t[1];["quantity","id","selling_plan"].includes(e)&&(i[e]=o),0===e.indexOf("properties[")&&"]"===e.slice(-1)&&("properties"in i||(i.properties={}),i.properties[e.slice(11,-1)]=o)}var c;"id"in i&&("quantity"in i||(i.quantity=1),_.set(e,o+1),C(e),(c={items:[i]},r("add",c)).then((t=>{t.ok||(s="description"in t.body?t.body.description:"message"in t.body?t.body.message:`Error ${t.status}`)})).finally((()=>{const t=_.get(e);t>0&&_.set(e,t-1),C(e,s)})))})),f((t=>{const{cartStateSetBodyClass:e,requestInProgressBodyClass:o,emptyCartBodyClass:r}=a;e&&(t.status.cartStateSet?document.body.classList.add(e):document.body.classList.remove(e)),o&&(t.status.requestInProgress?document.body.classList.add(o):document.body.classList.remove(o)),r&&(t.status.cartStateSet&&0===t.cart.item_count?document.body.classList.add(r):document.body.classList.remove(r))}));var j=e.j;export{j as configure};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cEUsSUFJN0JELElBQ0N1RSxFQUFNcEYsT0FBT21DLGtCQUNqQlEsU0FBU2hFLEtBQUtxRyxVQUFVQyxJQUFLcEUsR0FFN0I4QixTQUFTaEUsS0FBS3FHLFVBQVVFLE9BQVFyRSxJQUk3QkUsSUFDQ3FFLEVBQU1wRixPQUFPb0MsY0FBMEMsSUFBMUJnRCxFQUFNbEQsS0FBS3NHLFdBQzVDN0YsU0FBU2hFLEtBQUtxRyxVQUFVQyxJQUFLbEUsR0FFN0I0QixTQUFTaEUsS0FBS3FHLFVBQVVFLE9BQVFuRSxPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGlxdWlkLWFqYXgtY2FydC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9saXF1aWQtYWpheC1jYXJ0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9saXF1aWQtYWpheC1jYXJ0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbGlxdWlkLWFqYXgtY2FydC8uL19zcmMvYWpheC1hcGkuanMiLCJ3ZWJwYWNrOi8vbGlxdWlkLWFqYXgtY2FydC8uL19zcmMvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vbGlxdWlkLWFqYXgtY2FydC8uL19zcmMvc3RhdGUuanMiLCJ3ZWJwYWNrOi8vbGlxdWlkLWFqYXgtY2FydC8uL19zcmMvZG9tLWJpbmRlci5qcyIsIndlYnBhY2s6Ly9saXF1aWQtYWpheC1jYXJ0Ly4vX3NyYy9jb250cm9scy5qcyIsIndlYnBhY2s6Ly9saXF1aWQtYWpheC1jYXJ0Ly4vX3NyYy9zZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9saXF1aWQtYWpheC1jYXJ0Ly4vX3NyYy9wcm9kdWN0LWZvcm1zLmpzIiwid2VicGFjazovL2xpcXVpZC1hamF4LWNhcnQvLi9fc3JjL2dsb2JhbC1jbGFzc2VzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgUkVRVUVTVF9BREQgPSAnYWRkJztcclxuY29uc3QgUkVRVUVTVF9DSEFOR0UgPSAnY2hhbmdlJztcclxuY29uc3QgUkVRVUVTVF9HRVQgPSAnZ2V0JztcclxuXHJcbmNvbnN0IHN1YnNjcmliZXJzID0gW107XHJcblxyXG5jb25zdCBnZXRFbmRwb2ludCA9ICggcmVxdWVzdFR5cGUgKSA9PiB7XHJcblx0c3dpdGNoICggcmVxdWVzdFR5cGUgKSB7XHJcblx0XHRjYXNlIFJFUVVFU1RfQUREOlxyXG5cdFx0XHRyZXR1cm4gJy9jYXJ0L2FkZC5qcyc7XHJcblx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdGNhc2UgUkVRVUVTVF9DSEFOR0U6XHJcblx0XHRcdHJldHVybiAnL2NhcnQvY2hhbmdlLmpzJztcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0Y2FzZSBSRVFVRVNUX0dFVDpcclxuXHRcdFx0cmV0dXJuICcvY2FydC5qcyc7XHJcblx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0fVxyXG5cdHJldHVybiB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmNvbnN0IGNhcnRSZXF1ZXN0ID0gKCByZXF1ZXN0VHlwZSwgYm9keSApID0+IHtcclxuXHRjb25zdCBlbmRwb2ludCA9IGdldEVuZHBvaW50KCByZXF1ZXN0VHlwZSApXHJcblx0Y29uc3QgcmVxdWVzdEJvZHkgPSByZXF1ZXN0VHlwZSA9PT0gUkVRVUVTVF9HRVQgPyB1bmRlZmluZWQgOiB7IC4uLmJvZHkgfTtcclxuXHRjb25zdCBtZXRob2QgPSByZXF1ZXN0VHlwZSA9PT0gUkVRVUVTVF9HRVQgPyAnR0VUJyA6ICdQT1NUJ1xyXG5cclxuXHRzdWJzY3JpYmVycy5mb3JFYWNoKCBjYWxsYmFjayA9PiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjYWxsYmFjayh7XHJcblx0XHRcdFx0cmVxdWVzdFR5cGUsXHJcblx0XHRcdFx0ZW5kcG9pbnQsXHJcblx0XHRcdFx0Ly8gdGhlIHNhbWUgcmVxdWVzdEJvZHkgd2lsbCBiZSB1c2VkIGluIHRoZSBmZXRjaCByZXF1ZXN0LCBcclxuXHRcdFx0XHQvLyBzbyBzdWJzY3JpYmVyIGNhbiBtYWtlIGNoYW5nZXMgaW4gaXQgYmVmb3JlIHRoZSByZXF1ZXN0XHJcblx0XHRcdFx0cmVxdWVzdEJvZHlcclxuXHJcblx0XHRcdFx0Ly8gaWYgYSBjYWxsYmFjayBpcyBmaXJlZCB3aXRob3V0ICdyZXNwb25zZURhdGEnIG9iamVjdCBpbiB0aGUgcGF5bG9hZCwgXHJcblx0XHRcdFx0Ly8gaXQgbWVhbnMgdGhpcyBpcyBhIGNhbGxiYWNrIGJlZm9yZSByZXF1ZXN0IGlzIHN0YXJ0ZWRcclxuXHRcdFx0fSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0xpcXVpZCBBamF4IENhcnQ6IEVycm9yIGR1cmluZyBjYWxsYmFjayBpbiBBamF4IEFwaScpO1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKGUpO1xyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cdGNvbnN0IGZldGNoUGF5bG9hZCA9IHtcclxuXHRcdG1ldGhvZCxcclxuXHRcdGhlYWRlcnM6IHtcclxuXHQgICAgXHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcblx0ICBcdH1cclxuXHR9XHJcblx0aWYgKCByZXF1ZXN0VHlwZSAhPT0gUkVRVUVTVF9HRVQgKSB7XHJcblx0XHRmZXRjaFBheWxvYWQuYm9keSA9IEpTT04uc3RyaW5naWZ5KCByZXF1ZXN0Qm9keSApXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZmV0Y2goIFxyXG5cdFx0ZW5kcG9pbnQsIFxyXG5cdFx0ZmV0Y2hQYXlsb2FkXHJcblx0KS50aGVuKCByZXNwb25zZSA9PiB7XHJcblx0XHRyZXR1cm4gcmVzcG9uc2UuanNvbigpLnRoZW4oIHJlc3BvbnNlQm9keSA9PiB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0b2s6IHJlc3BvbnNlLm9rLFxyXG5cdFx0XHRcdHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxyXG5cdFx0XHRcdGJvZHk6IHJlc3BvbnNlQm9keVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KS50aGVuKCBkYXRhID0+IHtcclxuXHJcblx0XHRzdWJzY3JpYmVycy5mb3JFYWNoKCBjYWxsYmFjayA9PiB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y2FsbGJhY2soe1xyXG5cdFx0XHRcdFx0cmVxdWVzdFR5cGUsXHJcblx0XHRcdFx0XHRlbmRwb2ludCxcclxuXHRcdFx0XHRcdHJlcXVlc3RCb2R5LFxyXG5cdFx0XHRcdFx0Ly8gaWYgYSBjYWxsYmFjayBpcyBmaXJlZCB3aXRoICdyZXNwb25zZURhdGEnIG9iamVjdCwgXHJcblx0XHRcdFx0XHQvLyBpdCBtZWFucyB0aGlzIGlzIGEgY2FsbGJhY2sgYWZ0ZXIgcmVxdWVzdCBpcyBkb25lXHJcblx0XHRcdFx0XHRyZXNwb25zZURhdGE6IGRhdGFcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0xpcXVpZCBBamF4IENhcnQ6IEVycm9yIGR1cmluZyBjYWxsYmFjaycpO1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdFx0Ly8gY29uc29sZS5sb2coIGRhdGEgKTtcclxuXHJcblx0XHRyZXR1cm4gZGF0YTtcclxuXHR9KS5jYXRjaCggZGF0YSA9PiB7XHJcblx0XHRjb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcdC8vIHRvZG86IGNhbGxiYWNrcyEhIVxyXG5cdH0pO1xyXG59XHJcblxyXG5jb25zdCBjYXJ0R2V0ID0gKCkgPT4ge1xyXG5cdHJldHVybiBjYXJ0UmVxdWVzdCggUkVRVUVTVF9HRVQgKVxyXG59XHJcblxyXG5jb25zdCBjYXJ0QWRkID0gKCBib2R5ICkgPT4ge1xyXG5cdHJldHVybiBjYXJ0UmVxdWVzdCggUkVRVUVTVF9BREQsIGJvZHkgKVxyXG59XHJcblxyXG5jb25zdCBjYXJ0Q2hhbmdlID0gKCBib2R5ICkgPT4ge1xyXG5cdHJldHVybiBjYXJ0UmVxdWVzdCggUkVRVUVTVF9DSEFOR0UsIGJvZHkgKVxyXG59XHJcblxyXG5jb25zdCBzdWJzY3JpYmVUb0FqYXhBUEkgPSAoIGNhbGxiYWNrICkgPT4ge1xyXG5cdHN1YnNjcmliZXJzLnB1c2goIGNhbGxiYWNrICk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGNhcnRBZGQsIGNhcnRDaGFuZ2UsIGNhcnRHZXQsIHN1YnNjcmliZVRvQWpheEFQSSwgUkVRVUVTVF9BREQgfSIsImNvbnN0IGRlZmF1bHRTZXR0aW5ncyA9IHtcclxuXHRkYXRhQXR0cmlidXRlUHJlZml4OiAnZGF0YS1hamF4LWNhcnQnLFxyXG5cdGNzc0NsYXNzZXNQcmVmaXg6ICdqcy1hamF4LWNhcnQnLFxyXG5cdHByb2R1Y3RGb3Jtc0ZpbHRlcjogZm9ybU5vZGUgPT4gdHJ1ZSxcclxuXHRyZXF1ZXN0SW5Qcm9ncmVzc0JvZHlDbGFzczogJ2pzLWFqYXgtY2FydC1yZXF1ZXN0LWluLXByb2dyZXNzJyxcclxuXHRjYXJ0U3RhdGVTZXRCb2R5Q2xhc3M6ICdqcy1hamF4LWNhcnQtc2V0JyxcclxuXHRlbXB0eUNhcnRCb2R5Q2xhc3M6ICdqcy1hamF4LWNhcnQtZW1wdHknLFxyXG5cdHByb2R1Y3RGb3Jtc0lnbm9yZVN1Ym1pdE9uUHJvY2Vzc2luZzogdHJ1ZSxcclxuXHRwcm9kdWN0Rm9ybXNQcm9jZXNzaW5nQ2xhc3M6ICdqcy1hamF4LWNhcnQtZm9ybS1pbi1wcm9ncmVzcycsXHJcblx0cHJvZHVjdEZvcm1zQnV0dG9uUHJvY2Vzc2luZ0NsYXNzOiAnanMtYWpheC1jYXJ0LWJ1dHRvbi1pbi1wcm9ncmVzcycsXHJcblx0cHJvZHVjdEZvcm1zQnV0dG9uUHJvY2Vzc2luZ0Rpc2FibGVkQXR0cmlidXRlOiBmYWxzZVxyXG59XHJcblxyXG5sZXQgc2V0dGluZ3MgPSB7fTtcclxuXHJcbmNvbnN0IGNvbmZpZ3VyZSA9ICggbmV3U2V0dGluZ3MgPSB7fSApID0+IHtcclxuXHRzZXR0aW5ncyA9IHtcclxuXHRcdC4uLmRlZmF1bHRTZXR0aW5ncyxcclxuXHRcdC4uLm5ld1NldHRpbmdzXHJcblx0fTtcclxuXHRzZXR0aW5ncy5jb21wdXRlZCA9IHtcclxuXHRcdHByb2R1Y3RGb3Jtc0Vycm9yc0F0dHJpYnV0ZTogYCR7IHNldHRpbmdzLmRhdGFBdHRyaWJ1dGVQcmVmaXggfS1mb3JtLWVycm9yYCxcclxuXHRcdHNlY3Rpb25zQXR0cmlidXRlOiBgJHsgc2V0dGluZ3MuZGF0YUF0dHJpYnV0ZVByZWZpeCB9LXNlY3Rpb25gLFxyXG5cdFx0YmluZGVyQXR0cmlidXRlOiBgJHsgc2V0dGluZ3MuZGF0YUF0dHJpYnV0ZVByZWZpeCB9LWJpbmQtc3RhdGVgLFxyXG5cdFx0cXVhbnRpdHlCdXR0b25BdHRyaWJ1dGU6IGAkeyBzZXR0aW5ncy5kYXRhQXR0cmlidXRlUHJlZml4IH0tcXVhbnRpdHktYnV0dG9uYCxcclxuXHRcdHRvZ2dsZUNsYXNzQnV0dG9uQXR0cmlidXRlOiBgJHsgc2V0dGluZ3MuZGF0YUF0dHJpYnV0ZVByZWZpeCB9LXRvZ2dsZS1jbGFzcy1idXR0b25gLFxyXG5cdFx0dG9nZ2xlQ2xhc3NQcmVmaXg6IGAkeyBzZXR0aW5ncy5jc3NDbGFzc2VzUHJlZml4IH0tdG9nZ2xlLWAsXHJcblx0XHRpbml0aWFsU3RhdGVBdHRyaWJ1dGU6IGAkeyBzZXR0aW5ncy5kYXRhQXR0cmlidXRlUHJlZml4IH0taW5pdGlhbC1zdGF0ZWAsXHJcblx0XHRzZWN0aW9uU2Nyb2xsQXJlYUF0dHJpYnV0ZTogYCR7IHNldHRpbmdzLmRhdGFBdHRyaWJ1dGVQcmVmaXggfS1zZWN0aW9uLXNjcm9sbGBcclxuXHR9O1xyXG59XHJcbmNvbmZpZ3VyZSgpO1xyXG5cclxuZXhwb3J0IHsgc2V0dGluZ3MsIGNvbmZpZ3VyZSB9OyIsImltcG9ydCB7IHN1YnNjcmliZVRvQWpheEFQSSwgY2FydEdldCwgUkVRVUVTVF9BREQgfSBmcm9tICcuL2FqYXgtYXBpJztcclxuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzJztcclxuXHJcbmNvbnN0IHF1ZXJ5Q291bnRlciA9IHtcclxuXHRhbGw6IDBcclxuXHQvKipcclxuXHQgKiAnaXRlbV9rZXknOiB7XHJcblx0ICogXHRcdHF1YW50aXR5OiAwLFxyXG5cdCAqIFx0XHRwcm9wZXJ0aWVzOiAwLFxyXG5cdCAqIH1cclxuXHQgKi8gXHJcbn07XHJcblxyXG5jb25zdCBzdWJzY3JpYmVycyA9IFtdO1xyXG5sZXQgY2FydCA9IHt9O1xyXG5sZXQgc3RhdHVzID0ge1xyXG5cdHJlcXVlc3RJblByb2dyZXNzOiBmYWxzZSxcclxuXHRjYXJ0U3RhdGVTZXQ6IGZhbHNlLFxyXG59O1xyXG5cclxuY29uc3QgaW5pdCA9ICgpID0+IHtcclxuXHJcblx0c3Vic2NyaWJlVG9BamF4QVBJKCBkYXRhID0+IHtcclxuXHRcdGlmICggISgncmVzcG9uc2VEYXRhJyBpbiBkYXRhKSApIHtcclxuXHRcdFx0YmVmb3JlUmVxdWVzdEhhbmRsZXIoIGRhdGEgKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0YWZ0ZXJSZXF1ZXN0SGFuZGxlciggZGF0YSApO1xyXG5cdFx0fVxyXG5cdFx0c3RhdHVzVXBkYXRlKCk7XHJcblx0XHRub3RpZnkoKTtcclxuXHR9KTtcclxuXHJcblx0Y29uc3QgaW5pdGlhbFN0YXRlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgWyR7IHNldHRpbmdzLmNvbXB1dGVkLmluaXRpYWxTdGF0ZUF0dHJpYnV0ZSB9XWApO1xyXG5cdGlmICggaW5pdGlhbFN0YXRlQ29udGFpbmVyICkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgaW5pdGlhbFN0YXRlID0gSlNPTi5wYXJzZShpbml0aWFsU3RhdGVDb250YWluZXIudGV4dENvbnRlbnQpO1xyXG5cdFx0XHQvLyB0b2RvOiBjcmVhdGUgYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgY2FydCBvYmplY3RcclxuXHRcdFx0aWYgKCAnaXRlbV9jb3VudCcgaW4gaW5pdGlhbFN0YXRlICkge1xyXG5cdFx0XHRcdGNhcnQgPSBpbml0aWFsU3RhdGU7XHJcblx0XHRcdFx0c3RhdHVzVXBkYXRlKCk7XHJcblx0XHRcdFx0bm90aWZ5KCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhyb3cgYEpTT04gZnJvbSAkeyBzZXR0aW5ncy5jb21wdXRlZC5pbml0aWFsU3RhdGVBdHRyaWJ1dGUgfSBzY3JpcHQgaXMgbm90IGNvcnJlY3QgY2FydCBvYmplY3RgO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoYENhbid0IHBhcnNlIGNhcnQgSlNPTiBmcm9tICR7IHNldHRpbmdzLmNvbXB1dGVkLmluaXRpYWxTdGF0ZUF0dHJpYnV0ZSB9IHNjcmlwdGApO1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKGUpO1xyXG5cdFx0XHRjYXJ0R2V0KCk7XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGNhcnRHZXQoKTtcclxuXHR9XHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgYmVmb3JlUmVxdWVzdEhhbmRsZXIgPSAoIGRhdGEgKSA9PiB7XHJcblx0cXVlcnlDb3VudGVyLmFsbCsrO1xyXG59XHJcblxyXG5jb25zdCBhZnRlclJlcXVlc3RIYW5kbGVyID0gKCBkYXRhICkgPT4ge1xyXG5cdHF1ZXJ5Q291bnRlci5hbGwtLTtcclxuXHRpZiAoIGRhdGEucmVzcG9uc2VEYXRhLm9rICkge1xyXG5cdFx0aWYgKCBkYXRhLnJlcXVlc3RUeXBlICE9PSBSRVFVRVNUX0FERCApIHtcclxuXHRcdFx0Y2FydCA9IGRhdGEucmVzcG9uc2VEYXRhLmJvZHk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjYXJ0R2V0KCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzdGF0dXNVcGRhdGUgPSAoKSA9PiB7XHJcblx0c3RhdHVzLnJlcXVlc3RJblByb2dyZXNzID0gcXVlcnlDb3VudGVyLmFsbCA+IDA7XHJcblx0c3RhdHVzLmNhcnRTdGF0ZVNldCA9ICdpdGVtX2NvdW50JyBpbiBjYXJ0OyAvLyB0b2RvOiBjcmVhdGUgYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgY2FydCBvYmplY3RcclxufVxyXG5cclxuY29uc3Qgc3Vic2NyaWJlVG9DYXJ0U3RhdGUgPSAoIGNhbGxiYWNrICkgPT4ge1xyXG5cdHRyeSB7XHJcblx0XHRjYWxsYmFjayh7XHJcblx0XHRcdGNhcnQsXHJcblx0XHRcdHN0YXR1c1xyXG5cdFx0fSk7XHJcblx0XHRzdWJzY3JpYmVycy5wdXNoKCBjYWxsYmFjayApO1xyXG5cdH0gY2F0Y2ggKGUpIHtcclxuXHRcdGNvbnNvbGUubG9nKCdMaXF1aWQgQWpheCBDYXJ0OiBFcnJvciBkdXJpbmcgc3Vic2NyaWJpbmcgdG8gdGhlIHN0YXRlJyk7XHJcblx0XHRjb25zb2xlLmVycm9yKGUpO1xyXG5cdH1cclxufVxyXG5cclxuY29uc3QgZ2V0Q2FydFN0YXRlID0gKCkgPT4ge1xyXG5cdHJldHVybiB7XHJcblx0XHRjYXJ0LFxyXG5cdFx0c3RhdHVzXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBub3RpZnkgPSAoKSA9PiB7XHJcblx0c3Vic2NyaWJlcnMuZm9yRWFjaCggY2FsbGJhY2sgPT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y2FsbGJhY2soe1xyXG5cdFx0XHRcdGNhcnQsXHJcblx0XHRcdFx0c3RhdHVzLFxyXG5cdFx0XHR9KTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihlKTtcclxuXHRcdFx0Ly8gdG9kbzogYWRkIGVycm9yIGhhbmRsZXIgbGlrZSBpbiBzdWJzY3JpYmVUb0NhcnRTdGF0ZVxyXG5cdFx0fVxyXG5cdH0pXHJcbn1cclxuXHJcbmluaXQoKTtcclxuXHJcbmV4cG9ydCB7IHN1YnNjcmliZVRvQ2FydFN0YXRlLCBnZXRDYXJ0U3RhdGUgfTsiLCJpbXBvcnQgeyBnZXRDYXJ0U3RhdGUsIHN1YnNjcmliZVRvQ2FydFN0YXRlIH0gZnJvbSAnLi9zdGF0ZSc7XHJcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncyc7XHJcblxyXG5jb25zdCBkYXRhQXR0cmlidXRlID0gc2V0dGluZ3MuY29tcHV0ZWQuYmluZGVyQXR0cmlidXRlO1xyXG5cclxuY29uc3QgdXBkYXRlRE9NID0gKCBzdGF0ZSApID0+IHtcclxuXHJcblx0aWYgKCBzdGF0ZS5zdGF0dXMuY2FydFN0YXRlU2V0ICkge1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggYFskeyBkYXRhQXR0cmlidXRlIH1dYCApLmZvckVhY2goIGVsZW1lbnQgPT4ge1xyXG5cdFx0XHRjb25zdCBwYXRoID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoIGRhdGFBdHRyaWJ1dGUgKTtcclxuXHRcdFx0Y29uc3QgdmFsdWUgPSBjb21wdXRlVmFsdWUoIHBhdGggKTtcclxuXHRcdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRlbGVtZW50LmlubmVyVGV4dCA9IHZhbHVlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNvbXB1dGVWYWx1ZSA9ICggc3RyICkgPT4ge1xyXG5cdGNvbnN0IFsgcGF0aCwgLi4uZmlsdGVycyBdID0gc3RyLnNwbGl0KCd8Jyk7XHJcblx0bGV0IHZhbHVlID0gZ2V0U3RhdGVWYWx1ZUJ5U3RyaW5nKCBwYXRoICk7XHJcblx0ZmlsdGVycy5mb3JFYWNoKCBlbGVtZW50ID0+IHtcclxuXHRcdGNvbnN0IGZvcm1hdHRlck5hbWUgPSBlbGVtZW50LnRyaW0oKTtcclxuXHRcdGlmICggZm9ybWF0dGVyTmFtZSAhPT0gJycgKSB7XHJcblx0XHRcdGlmICggZm9ybWF0dGVyTmFtZSBpbiBmb3JtYXR0ZXJzICkge1xyXG5cdFx0XHRcdHZhbHVlID0gZm9ybWF0dGVyc1sgZm9ybWF0dGVyTmFtZSBdKCB2YWx1ZSApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIHRvZG86IGNvbnNvbGUubG9nXHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9XHJcblx0fSlcclxuXHRyZXR1cm4gdmFsdWU7XHJcbn1cclxuXHJcbi8vIGRvbid0IHBhc3Mgb2JqIHBhcmFtZXRlciB3aGVuIHlvdSBjYWxsIHRoZSBmdW5jdGlvbiDigJQgaXQgaXMgZm9yIHJlY2N1cnNpdmUgY2FsbHNcclxuZnVuY3Rpb24gZ2V0U3RhdGVWYWx1ZUJ5U3RyaW5nICggc3RyLCBvYmogPSBnZXRDYXJ0U3RhdGUoKSApIHtcclxuXHRjb25zdCBzdGF0ZSA9IGdldENhcnRTdGF0ZSgpO1xyXG5cdC8vIHRvZG8gdGVzdCB3aXRoIFwiZm9vLmJhci5cIiwgXCIuZm9vLmJhclwiLCBcIi5mb28uYmFyLlwiLCBcImZvby4uYmFyXCIsIFwiZm9vLiAuYmFyLiBcIlxyXG5cdGNvbnN0IHByb3BlcnRpZXMgPSBzdHIuc3BsaXQoJy4nKTtcclxuXHRjb25zdCBjdXJyZW50UHJvcGVydHkgPSBwcm9wZXJ0aWVzLnNoaWZ0KCkudHJpbSgpO1xyXG5cdGlmICggY3VycmVudFByb3BlcnR5IGluIG9iaiAmJiBwcm9wZXJ0aWVzLmxlbmd0aCA+IDAgKSB7XHJcblx0XHRyZXR1cm4gZ2V0U3RhdGVWYWx1ZUJ5U3RyaW5nKCBwcm9wZXJ0aWVzLmpvaW4oJy4nKSwgb2JqWyBjdXJyZW50UHJvcGVydHkgXSApXHJcblx0fVxyXG5cdHJldHVybiBvYmpbIGN1cnJlbnRQcm9wZXJ0eSBdO1xyXG59XHJcblxyXG5jb25zdCBmb3JtYXR0ZXJzID0ge1xyXG5cdCdhbW91bnQnOiAoIHZhbHVlICkgPT4ge1xyXG5cdFx0aWYgKCAnU2hvcGlmeScgaW4gd2luZG93ICYmICdmb3JtYXRNb25leScgaW4gU2hvcGlmeSApIHtcclxuXHRcdFx0cmV0dXJuIFNob3BpZnkuZm9ybWF0TW9uZXkodmFsdWUsICd7eyBhbW91bnQgfX0nKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdCdhbW91bnRfbm9fZGVjaW1hbHMnOiAoIHZhbHVlICkgPT4ge1xyXG5cdFx0aWYgKCAnU2hvcGlmeScgaW4gd2luZG93ICYmICdmb3JtYXRNb25leScgaW4gU2hvcGlmeSApIHtcclxuXHRcdFx0cmV0dXJuIFNob3BpZnkuZm9ybWF0TW9uZXkodmFsdWUsICd7eyBhbW91bnRfbm9fZGVjaW1hbHMgfX0nKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdCdhbW91bnRfd2l0aF9jb21tYV9zZXBhcmF0b3InOiAoIHZhbHVlICkgPT4ge1xyXG5cdFx0aWYgKCAnU2hvcGlmeScgaW4gd2luZG93ICYmICdmb3JtYXRNb25leScgaW4gU2hvcGlmeSApIHtcclxuXHRcdFx0cmV0dXJuIFNob3BpZnkuZm9ybWF0TW9uZXkodmFsdWUsICd7eyBhbW91bnRfd2l0aF9jb21tYV9zZXBhcmF0b3IgfX0nKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdCdhbW91bnRfbm9fZGVjaW1hbHNfd2l0aF9jb21tYV9zZXBhcmF0b3InOiAoIHZhbHVlICkgPT4ge1xyXG5cdFx0aWYgKCAnU2hvcGlmeScgaW4gd2luZG93ICYmICdmb3JtYXRNb25leScgaW4gU2hvcGlmeSApIHtcclxuXHRcdFx0cmV0dXJuIFNob3BpZnkuZm9ybWF0TW9uZXkodmFsdWUsICd7eyBhbW91bnRfbm9fZGVjaW1hbHNfd2l0aF9jb21tYV9zZXBhcmF0b3IgfX0nKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdCdhbW91bnRfd2l0aF9hcG9zdHJvcGhlX3NlcGFyYXRvcic6ICggdmFsdWUgKSA9PiB7XHJcblx0XHRpZiAoICdTaG9waWZ5JyBpbiB3aW5kb3cgJiYgJ2Zvcm1hdE1vbmV5JyBpbiBTaG9waWZ5ICkge1xyXG5cdFx0XHRyZXR1cm4gU2hvcGlmeS5mb3JtYXRNb25leSh2YWx1ZSwgJ3t7IGFtb3VudF93aXRoX2Fwb3N0cm9waGVfc2VwYXJhdG9yIH19Jyk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5zdWJzY3JpYmVUb0NhcnRTdGF0ZSggdXBkYXRlRE9NICk7IiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzJztcclxuaW1wb3J0IHsgY2FydENoYW5nZSB9IGZyb20gJy4vYWpheC1hcGknO1xyXG5pbXBvcnQgeyBnZXRDYXJ0U3RhdGUgfSBmcm9tICcuL3N0YXRlJztcclxuXHJcbmNvbnN0IEFDVElPTl9UT0dHTEUgPSAndG9nZ2xlJztcclxuY29uc3QgQUNUSU9OX0FERCA9ICdhZGQnO1xyXG5jb25zdCBBQ1RJT05fUkVNT1ZFID0gJ3JlbW92ZSc7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuXHRjb25zdCB7IHF1YW50aXR5QnV0dG9uQXR0cmlidXRlLCB0b2dnbGVDbGFzc0J1dHRvbkF0dHJpYnV0ZSB9ID0gc2V0dGluZ3MuY29tcHV0ZWQ7XHJcblxyXG4gICAgZm9yICh2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7IHRhcmdldCAmJiB0YXJnZXQgIT0gdGhpczsgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGUpIHtcclxuICAgICAgICBpZiAodGFyZ2V0Lm1hdGNoZXMoIGBbJHsgcXVhbnRpdHlCdXR0b25BdHRyaWJ1dGUgfV1gICkpIHtcclxuICAgICAgICAgICAgcXVhbnRpdHlCdXR0b25DbGlja0hhbmRsZXIuY2FsbCh0YXJnZXQsIGUpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRhcmdldC5tYXRjaGVzKCBgWyR7IHRvZ2dsZUNsYXNzQnV0dG9uQXR0cmlidXRlIH1dYCApKSB7XHJcbiAgICAgICAgICAgIHRvZ2dsZUNsYXNzQnV0dG9uQ2xpY2tIYW5kbGVyLmNhbGwodGFyZ2V0LCBlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59LCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBxdWFudGl0eUJ1dHRvbkNsaWNrSGFuZGxlciAoZSkge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRjb25zdCB7IHF1YW50aXR5QnV0dG9uQXR0cmlidXRlIH0gPSBzZXR0aW5ncy5jb21wdXRlZDtcclxuXHRjb25zdCBzdGF0ZSA9IGdldENhcnRTdGF0ZSgpO1xyXG5cdGlmICggIXN0YXRlLnN0YXR1cy5yZXF1ZXN0SW5Qcm9ncmVzcyApIHtcclxuXHRcdGNvbnN0IFsgaXRlbUtleSwgcXVhbnRpdHkgXSA9IHRoaXMuZ2V0QXR0cmlidXRlKCBxdWFudGl0eUJ1dHRvbkF0dHJpYnV0ZSApLnNwbGl0KCd8Jyk7XHJcblx0XHRjYXJ0Q2hhbmdlKHtcclxuXHRcdFx0J2lkJzogaXRlbUtleS50cmltKCksXHJcblx0XHRcdCdxdWFudGl0eSc6ICBwYXJzZUludChxdWFudGl0eS50cmltKCkpLFxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVDbGFzc0J1dHRvbkNsaWNrSGFuZGxlciAoZSkge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRjb25zdCB7IHRvZ2dsZUNsYXNzQnV0dG9uQXR0cmlidXRlIH0gPSBzZXR0aW5ncy5jb21wdXRlZDtcclxuXHRjb25zdCBwYXJhbWV0ZXJzID0gdGhpcy5nZXRBdHRyaWJ1dGUoIHRvZ2dsZUNsYXNzQnV0dG9uQXR0cmlidXRlICkuc3BsaXQoICd8JyApO1xyXG5cdGlmICggIXBhcmFtZXRlcnMgKSB7XHJcblx0XHRjb25zb2xlLmVycm9yKCdMaXF1aWQgQWpheCBDYXJ0OiBFcnJvciB3aGlsZSB0b2dnbGluZyBib2R5IGNsYXNzJyk7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRjb25zdCBjc3NDbGFzcyA9IHBhcmFtZXRlcnNbMF0udHJpbSgpO1xyXG5cdGxldCBhY3Rpb24gPSBwYXJhbWV0ZXJzWzFdID8gcGFyYW1ldGVyc1sxXS50cmltKCkgOiBBQ1RJT05fVE9HR0xFO1xyXG5cdGlmICggYWN0aW9uICE9PSBBQ1RJT05fQUREICYmIGFjdGlvbiAhPT0gQUNUSU9OX1JFTU9WRSApIHtcclxuXHRcdGFjdGlvbiA9IEFDVElPTl9UT0dHTEU7XHJcblx0fVxyXG5cclxuXHJcblx0aWYgKCBjc3NDbGFzcyApIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmICggYWN0aW9uID09PSBBQ1RJT05fQUREICkge1xyXG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCggY3NzQ2xhc3MgKTtcclxuXHRcdFx0fSBlbHNlIGlmICggYWN0aW9uID09PSBBQ1RJT05fUkVNT1ZFICkge1xyXG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSggY3NzQ2xhc3MgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoIGNzc0NsYXNzICk7XHJcblx0XHRcdH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgXHRjb25zb2xlLmVycm9yKCdMaXF1aWQgQWpheCBDYXJ0OiBFcnJvciB3aGlsZSB0b2dnbGluZyBib2R5IGNsYXNzOicsIGNzc0NsYXNzKVxyXG4gICAgICAgIFx0Y29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICB9XHJcblx0fVxyXG59IiwiaW1wb3J0IHsgc3Vic2NyaWJlVG9BamF4QVBJIH0gZnJvbSAnLi9hamF4LWFwaSc7XHJcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncyc7XHJcblxyXG5jb25zdCBzaG9waWZ5U2VjdGlvblByZWZpeCA9ICdzaG9waWZ5LXNlY3Rpb24tJztcclxuXHJcbnN1YnNjcmliZVRvQWpheEFQSSAoIGRhdGEgPT4ge1xyXG5cdGNvbnN0IHsgc2VjdGlvbnNBdHRyaWJ1dGUsIHNlY3Rpb25TY3JvbGxBcmVhQXR0cmlidXRlIH0gPSBzZXR0aW5ncy5jb21wdXRlZDtcclxuXHJcblx0aWYgKCAhKCdyZXNwb25zZURhdGEnIGluIGRhdGEpICkge1xyXG5cdFx0Ly8gdGhpcyBpcyBjYWxsYmFjayBiZWZvcmUgcmVxdWVzdCBpcyBzdGFydGVkXHJcblx0XHQvLyB3ZSBuZWVkIHRvIGFkZCAnc2VjdGlvbnMnIHBhcmFtZXRlciB0byB0aGUgcmVxdWVzdEJvZHlcclxuXHRcdC8vIHRvIHJlY2VpdmUgdXBkYXRlIEhUTUwgZm9yIHNlY3Rpb25zXHJcblx0XHRpZiAoIGRhdGEucmVxdWVzdEJvZHkgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0Y29uc3Qgc2VjdGlvbk5hbWVzID0gW107XHJcblx0XHRcdC8vIHRvZG86IHRlc3Qgd2l0aCBkeW5hbWljIHNlY3Rpb25zXHJcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGBbJHsgc2VjdGlvbnNBdHRyaWJ1dGUgfV1gICkuZm9yRWFjaCggc2VjdGlvbk5vZGVDaGlsZCA9PiB7XHJcblx0XHRcdFx0bGV0IHNlY3Rpb25JZEhUTUwgPSBzZWN0aW9uTm9kZUNoaWxkLnBhcmVudEVsZW1lbnQuaWQ7XHJcblx0XHRcdFx0aWYgKCBzZWN0aW9uSWRIVE1MLmluZGV4T2YoIHNob3BpZnlTZWN0aW9uUHJlZml4ICkgPT09IDAgKSB7XHJcblx0XHRcdFx0XHRjb25zdCBzZWN0aW9uSWQgPSBzZWN0aW9uSWRIVE1MLnJlcGxhY2UoIHNob3BpZnlTZWN0aW9uUHJlZml4LCAnJyApO1xyXG5cdFx0XHRcdFx0aWYgKCBzZWN0aW9uTmFtZXMuaW5kZXhPZiggc2VjdGlvbklkICkgPT09IC0xICkge1xyXG5cdFx0XHRcdFx0XHRzZWN0aW9uTmFtZXMucHVzaCggc2VjdGlvbklkICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0aWYgKCBzZWN0aW9uTmFtZXMubGVuZ3RoICkge1xyXG5cdFx0XHRcdGRhdGEucmVxdWVzdEJvZHkuc2VjdGlvbnMgPSBzZWN0aW9uTmFtZXMuam9pbiggJywnICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0aWYgKCBkYXRhLnJlc3BvbnNlRGF0YS5vayAmJiAnc2VjdGlvbnMnIGluIGRhdGEucmVzcG9uc2VEYXRhLmJvZHkgKSB7XHJcblx0XHRcdGNvbnN0IHNlY3Rpb25zID0gZGF0YS5yZXNwb25zZURhdGEuYm9keS5zZWN0aW9ucztcclxuXHRcdFx0Zm9yICggbGV0IHNlY3Rpb25JZCBpbiBzZWN0aW9ucyApIHtcclxuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBgI3Nob3BpZnktc2VjdGlvbi0keyBzZWN0aW9uSWQgfSA+IFskeyBzZWN0aW9uc0F0dHJpYnV0ZSB9XWAgKS5mb3JFYWNoKCBzZWN0aW9uTm9kZUNoaWxkID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG5vSWQgPSBcIl9fbm9JZF9fXCJcclxuXHRcdFx0XHRcdGNvbnN0IHNjcm9sbEFyZWFzTGlzdCA9IHt9O1xyXG5cdFx0XHRcdFx0Y29uc3Qgb2xkU2VjdGlvbk5vZGUgPSBzZWN0aW9uTm9kZUNoaWxkLnBhcmVudE5vZGU7XHJcblx0XHRcdFx0XHRzZWN0aW9uTm9kZUNoaWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChgIFskeyBzZWN0aW9uU2Nyb2xsQXJlYUF0dHJpYnV0ZSB9XSBgKS5mb3JFYWNoKCBzY3JvbGxBcmVhTm9kZSA9PiB7XHJcblx0XHRcdFx0XHRcdGxldCBzY3JvbGxJZCA9IHNjcm9sbEFyZWFOb2RlLmdldEF0dHJpYnV0ZSggc2VjdGlvblNjcm9sbEFyZWFBdHRyaWJ1dGUgKS50b1N0cmluZygpLnRyaW0oKTtcclxuXHRcdFx0XHRcdFx0aWYgKCBzY3JvbGxJZCA9PT0gJycgKSB7XHJcblx0XHRcdFx0XHRcdFx0c2Nyb2xsSWQgPSBub0lkO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmICggIShzY3JvbGxJZCBpbiBzY3JvbGxBcmVhc0xpc3QpICkge1xyXG5cdFx0XHRcdFx0XHRcdHNjcm9sbEFyZWFzTGlzdFtzY3JvbGxJZF0gPSBbXTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhzY3JvbGxJZCk7XHJcblx0XHRcdFx0XHRcdHNjcm9sbEFyZWFzTGlzdFtzY3JvbGxJZF0ucHVzaChzY3JvbGxBcmVhTm9kZS5zY3JvbGxUb3ApO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRvbGRTZWN0aW9uTm9kZS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZUJlZ2luJywgc2VjdGlvbnNbIHNlY3Rpb25JZCBdKTtcclxuXHRcdFx0XHRcdGNvbnN0IG5ld1NlY3Rpb25Ob2RlID0gb2xkU2VjdGlvbk5vZGUucHJldmlvdXNTaWJsaW5nO1xyXG5cdFx0XHRcdFx0b2xkU2VjdGlvbk5vZGUucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChvbGRTZWN0aW9uTm9kZSk7XHJcblx0XHRcdFx0XHRmb3IgKCBsZXQgc2Nyb2xsSWQgaW4gc2Nyb2xsQXJlYXNMaXN0ICkge1xyXG5cdFx0XHRcdFx0XHRuZXdTZWN0aW9uTm9kZS5xdWVyeVNlbGVjdG9yQWxsKGAgWyR7IHNlY3Rpb25TY3JvbGxBcmVhQXR0cmlidXRlIH09XCIkeyBzY3JvbGxJZC5yZXBsYWNlKCBub0lkLCAnJyApIH1cIl0gYCkuZm9yRWFjaCgoIHNjcm9sbEFyZWFOb2RlLCBzY3JvbGxBcmVhSW5kZXggKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCBzY3JvbGxBcmVhSW5kZXggKyAxIDw9IHNjcm9sbEFyZWFzTGlzdFsgc2Nyb2xsSWQgXS5sZW5ndGggKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzY3JvbGxBcmVhTm9kZS5zY3JvbGxUb3AgPSBzY3JvbGxBcmVhc0xpc3RbIHNjcm9sbElkIF1bIHNjcm9sbEFyZWFJbmRleCBdO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncyc7XHJcbmltcG9ydCB7IGNhcnRBZGQgfSBmcm9tICcuL2FqYXgtYXBpJztcclxuXHJcbmNvbnN0IHByb2Nlc3Nlc0Ftb3VudCA9IG5ldyBXZWFrTWFwKCk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlID0+IHtcclxuXHJcblx0Y29uc3QgZm9ybSA9IGUudGFyZ2V0O1xyXG5cdGxldCBwcm9jZXNzZXNBbW91bnRCZWZvcmU7XHJcblx0bGV0IGVycm9yTWVzc2FnZSA9ICcnO1xyXG5cclxuXHRjb25zdCBmb3JtQWN0aW9uVXJsID0gbmV3IFVSTChlLnRhcmdldC5hY3Rpb24pO1xyXG5cdGlmIChmb3JtQWN0aW9uVXJsLnBhdGhuYW1lICE9PSAnL2NhcnQvYWRkJykge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0aWYgKCdwcm9kdWN0Rm9ybXNGaWx0ZXInIGluIHNldHRpbmdzICYmICFzZXR0aW5ncy5wcm9kdWN0Rm9ybXNGaWx0ZXIoZm9ybSkgKSB7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdHByb2Nlc3Nlc0Ftb3VudEJlZm9yZSA9IHByb2Nlc3Nlc0Ftb3VudC5nZXQoZm9ybSk7XHJcblx0aWYgKCAhKHByb2Nlc3Nlc0Ftb3VudEJlZm9yZSA+IDApICkge1xyXG5cdFx0cHJvY2Vzc2VzQW1vdW50QmVmb3JlID0gMDtcclxuXHR9XHJcblx0XHJcblx0aWYgKCBzZXR0aW5ncy5wcm9kdWN0Rm9ybXNJZ25vcmVTdWJtaXRPblByb2Nlc3NpbmcgJiYgcHJvY2Vzc2VzQW1vdW50QmVmb3JlID4gMCApIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xyXG5cdGNvbnN0IHByb2R1Y3RKc29uID0ge31cclxuXHRmb3IgKCBsZXQgcGFpciBvZiBmb3JtRGF0YSApIHtcclxuXHRcdGNvbnN0IGtleSA9IHBhaXJbMF07XHJcblx0XHRjb25zdCB2YWx1ZSA9IHBhaXJbMV1cclxuXHRcdGlmKCBbJ3F1YW50aXR5JywgJ2lkJywgJ3NlbGxpbmdfcGxhbiddLmluY2x1ZGVzKCBrZXkgKSApIHtcclxuXHRcdFx0cHJvZHVjdEpzb25ba2V5XSA9IHZhbHVlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCBrZXkuaW5kZXhPZigncHJvcGVydGllc1snKSA9PT0gMCAmJiBrZXkuc2xpY2UoIC0xICkgPT09ICddJyApIHtcclxuXHRcdFx0aWYgKCAhKCdwcm9wZXJ0aWVzJyBpbiBwcm9kdWN0SnNvbikgKSB7XHJcblx0XHRcdFx0cHJvZHVjdEpzb24ucHJvcGVydGllcyA9IHt9O1xyXG5cdFx0XHR9XHJcblx0XHRcdHByb2R1Y3RKc29uLnByb3BlcnRpZXNba2V5LnNsaWNlKDExLCAtMSldID0gdmFsdWU7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICggISgnaWQnIGluIHByb2R1Y3RKc29uKSApIHtcclxuXHRcdC8vIHRvZG8gOiB0aHJvdyBlcnJvciBpZiBcImlkXCIgaXMgbm90IHNldFxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHRpZiggISgncXVhbnRpdHknIGluIHByb2R1Y3RKc29uKSApIHtcclxuXHRcdHByb2R1Y3RKc29uLnF1YW50aXR5ID0gMTtcclxuXHR9XHJcblxyXG5cdHByb2Nlc3Nlc0Ftb3VudC5zZXQoIGZvcm0sIHByb2Nlc3Nlc0Ftb3VudEJlZm9yZSArIDEgKTtcclxuXHR1cGRhdGVGb3JtSFRNTCggZm9ybSApO1xyXG5cclxuXHRjYXJ0QWRkKHtcclxuXHRcdGl0ZW1zOiBbIHByb2R1Y3RKc29uIF1cclxuXHR9KS50aGVuKCBkYXRhID0+IHtcclxuXHJcblx0XHRpZiAoICEoZGF0YS5vaykgKSB7XHJcblx0XHRcdGlmICggJ2Rlc2NyaXB0aW9uJyBpbiBkYXRhLmJvZHkgKSB7XHJcblx0XHRcdFx0ZXJyb3JNZXNzYWdlID0gZGF0YS5ib2R5LmRlc2NyaXB0aW9uO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCAnbWVzc2FnZScgaW4gZGF0YS5ib2R5ICkge1xyXG5cdFx0XHRcdGVycm9yTWVzc2FnZSA9IGRhdGEuYm9keS5tZXNzYWdlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVycm9yTWVzc2FnZSA9IGBFcnJvciAkeyBkYXRhLnN0YXR1cyB9YDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHR9KS5maW5hbGx5KCgpID0+IHtcclxuXHRcdGNvbnN0IHByb2Nlc3Nlc0Ftb3VudEFmdGVyID0gcHJvY2Vzc2VzQW1vdW50LmdldCggZm9ybSApO1xyXG5cdFx0aWYgKCBwcm9jZXNzZXNBbW91bnRBZnRlciA+IDAgKSB7XHJcblx0XHRcdHByb2Nlc3Nlc0Ftb3VudC5zZXQoIGZvcm0sIHByb2Nlc3Nlc0Ftb3VudEFmdGVyIC0gMSApO1xyXG5cdFx0fVxyXG5cdFx0Ly8gdG9kbyBjaGVjayBpZiB0aGUgcHJldmlvdXMgXCJ0aGVuXCIgaXMgbm90IHBlcmZvcm1lZCwgaXQgbWVhbnMgdGhlcmUgd2FzIGFuIGVycm9yIGluIGFqYXgtYXBpIFwiY2F0Y2hcIlxyXG5cdFx0Ly8gbW9zdCBsaWtlbHkgaW50ZXJuZXQgY29ubmVjdGlvbiBlcnJvclxyXG5cdFx0dXBkYXRlRm9ybUhUTUwoIGZvcm0sIGVycm9yTWVzc2FnZSApO1xyXG5cdH0pO1xyXG59KVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlRm9ybUhUTUwgKCBmb3JtLCBlcnJvck1lc3NhZ2UgPSAnJyApIHtcclxuXHRmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoYFskeyBzZXR0aW5ncy5jb21wdXRlZC5wcm9kdWN0Rm9ybXNFcnJvcnNBdHRyaWJ1dGUgfV1gKS5mb3JFYWNoKCBlcnJvcnNDb250YWluZXIgPT4ge1xyXG5cdFx0aWYgKCBlcnJvck1lc3NhZ2UgKSB7XHJcblx0XHRcdGVycm9yc0NvbnRhaW5lci5pbm5lclRleHQgPSBlcnJvck1lc3NhZ2U7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRlcnJvcnNDb250YWluZXIuaW5uZXJUZXh0ID0gJyc7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblxyXG5cdGNvbnN0IHN1Ym1pdEJ1dHRvbnMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9c3VibWl0XSwgYnV0dG9uW3R5cGU9c3VibWl0XScpO1xyXG5cdGNvbnN0IGZvcm1Qcm9jZXNzZXNBbW91bnQgPSBwcm9jZXNzZXNBbW91bnQuZ2V0KCBmb3JtICk7XHJcblxyXG5cdGlmICggc2V0dGluZ3MucHJvZHVjdEZvcm1zUHJvY2Vzc2luZ0NsYXNzICkge1xyXG5cdFx0aWYgKCBmb3JtUHJvY2Vzc2VzQW1vdW50ID4gMCApIHtcclxuXHRcdFx0Zm9ybS5jbGFzc0xpc3QuYWRkKCBzZXR0aW5ncy5wcm9kdWN0Rm9ybXNQcm9jZXNzaW5nQ2xhc3MgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZvcm0uY2xhc3NMaXN0LnJlbW92ZSggc2V0dGluZ3MucHJvZHVjdEZvcm1zUHJvY2Vzc2luZ0NsYXNzICk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAoIHNldHRpbmdzLnByb2R1Y3RGb3Jtc0J1dHRvblByb2Nlc3NpbmdDbGFzcyB8fCBzZXR0aW5ncy5wcm9kdWN0Rm9ybXNCdXR0b25Qcm9jZXNzaW5nRGlzYWJsZWRBdHRyaWJ1dGUgKSB7XHJcblx0XHRmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9c3VibWl0XSwgYnV0dG9uW3R5cGU9c3VibWl0XScpLmZvckVhY2goIGJ1dHRvbiA9PiB7XHJcblx0XHRcdGlmICggZm9ybVByb2Nlc3Nlc0Ftb3VudCA+IDAgKSB7XHJcblx0XHRcdFx0aWYgKCBzZXR0aW5ncy5wcm9kdWN0Rm9ybXNCdXR0b25Qcm9jZXNzaW5nQ2xhc3MgKSB7XHJcblx0XHRcdFx0XHRidXR0b24uY2xhc3NMaXN0LmFkZCggc2V0dGluZ3MucHJvZHVjdEZvcm1zQnV0dG9uUHJvY2Vzc2luZ0NsYXNzICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICggc2V0dGluZ3MucHJvZHVjdEZvcm1zQnV0dG9uUHJvY2Vzc2luZ0Rpc2FibGVkQXR0cmlidXRlICkge1xyXG5cdFx0XHRcdFx0YnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKCBzZXR0aW5ncy5wcm9kdWN0Rm9ybXNCdXR0b25Qcm9jZXNzaW5nQ2xhc3MgKSB7XHJcblx0XHRcdFx0XHRidXR0b24uY2xhc3NMaXN0LnJlbW92ZSggc2V0dGluZ3MucHJvZHVjdEZvcm1zQnV0dG9uUHJvY2Vzc2luZ0NsYXNzICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICggc2V0dGluZ3MucHJvZHVjdEZvcm1zQnV0dG9uUHJvY2Vzc2luZ0Rpc2FibGVkQXR0cmlidXRlICkge1xyXG5cdFx0XHRcdFx0YnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xyXG5pbXBvcnQgeyBnZXRDYXJ0U3RhdGUsIHN1YnNjcmliZVRvQ2FydFN0YXRlIH0gZnJvbSAnLi9zdGF0ZSc7XHJcblxyXG5zdWJzY3JpYmVUb0NhcnRTdGF0ZSggc3RhdGUgPT4ge1xyXG5cdGNvbnN0IHsgXHJcblx0XHRjYXJ0U3RhdGVTZXRCb2R5Q2xhc3MsIFxyXG5cdFx0cmVxdWVzdEluUHJvZ3Jlc3NCb2R5Q2xhc3MsXHJcblx0XHRlbXB0eUNhcnRCb2R5Q2xhc3NcclxuXHR9ID0gc2V0dGluZ3M7XHJcblxyXG5cdGlmICggY2FydFN0YXRlU2V0Qm9keUNsYXNzICkge1xyXG5cdFx0aWYgKCBzdGF0ZS5zdGF0dXMuY2FydFN0YXRlU2V0ICkge1xyXG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoIGNhcnRTdGF0ZVNldEJvZHlDbGFzcyApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCBjYXJ0U3RhdGVTZXRCb2R5Q2xhc3MgKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmICggcmVxdWVzdEluUHJvZ3Jlc3NCb2R5Q2xhc3MgKSB7XHJcblx0XHRpZiAoIHN0YXRlLnN0YXR1cy5yZXF1ZXN0SW5Qcm9ncmVzcyApIHtcclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCByZXF1ZXN0SW5Qcm9ncmVzc0JvZHlDbGFzcyApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCByZXF1ZXN0SW5Qcm9ncmVzc0JvZHlDbGFzcyApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKCBlbXB0eUNhcnRCb2R5Q2xhc3MgKSB7XHJcblx0XHRpZiAoIHN0YXRlLnN0YXR1cy5jYXJ0U3RhdGVTZXQgJiYgc3RhdGUuY2FydC5pdGVtX2NvdW50ID09PSAwICkge1xyXG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoIGVtcHR5Q2FydEJvZHlDbGFzcyApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCBlbXB0eUNhcnRCb2R5Q2xhc3MgKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInN1YnNjcmliZXJzIiwiY2FydFJlcXVlc3QiLCJyZXF1ZXN0VHlwZSIsImJvZHkiLCJlbmRwb2ludCIsImdldEVuZHBvaW50IiwicmVxdWVzdEJvZHkiLCJ1bmRlZmluZWQiLCJtZXRob2QiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJlIiwiY29uc29sZSIsImVycm9yIiwiZmV0Y2hQYXlsb2FkIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJyZXNwb25zZUJvZHkiLCJvayIsInN0YXR1cyIsImRhdGEiLCJyZXNwb25zZURhdGEiLCJjYXRjaCIsImxvZyIsImNhcnRHZXQiLCJzdWJzY3JpYmVUb0FqYXhBUEkiLCJwdXNoIiwiZGVmYXVsdFNldHRpbmdzIiwiZGF0YUF0dHJpYnV0ZVByZWZpeCIsImNzc0NsYXNzZXNQcmVmaXgiLCJwcm9kdWN0Rm9ybXNGaWx0ZXIiLCJmb3JtTm9kZSIsInJlcXVlc3RJblByb2dyZXNzQm9keUNsYXNzIiwiY2FydFN0YXRlU2V0Qm9keUNsYXNzIiwiZW1wdHlDYXJ0Qm9keUNsYXNzIiwicHJvZHVjdEZvcm1zSWdub3JlU3VibWl0T25Qcm9jZXNzaW5nIiwicHJvZHVjdEZvcm1zUHJvY2Vzc2luZ0NsYXNzIiwicHJvZHVjdEZvcm1zQnV0dG9uUHJvY2Vzc2luZ0NsYXNzIiwicHJvZHVjdEZvcm1zQnV0dG9uUHJvY2Vzc2luZ0Rpc2FibGVkQXR0cmlidXRlIiwic2V0dGluZ3MiLCJjb25maWd1cmUiLCJuZXdTZXR0aW5ncyIsImNvbXB1dGVkIiwicHJvZHVjdEZvcm1zRXJyb3JzQXR0cmlidXRlIiwic2VjdGlvbnNBdHRyaWJ1dGUiLCJiaW5kZXJBdHRyaWJ1dGUiLCJxdWFudGl0eUJ1dHRvbkF0dHJpYnV0ZSIsInRvZ2dsZUNsYXNzQnV0dG9uQXR0cmlidXRlIiwidG9nZ2xlQ2xhc3NQcmVmaXgiLCJpbml0aWFsU3RhdGVBdHRyaWJ1dGUiLCJzZWN0aW9uU2Nyb2xsQXJlYUF0dHJpYnV0ZSIsInF1ZXJ5Q291bnRlciIsImFsbCIsImNhcnQiLCJyZXF1ZXN0SW5Qcm9ncmVzcyIsImNhcnRTdGF0ZVNldCIsInN0YXR1c1VwZGF0ZSIsInN1YnNjcmliZVRvQ2FydFN0YXRlIiwiZ2V0Q2FydFN0YXRlIiwibm90aWZ5IiwiYWZ0ZXJSZXF1ZXN0SGFuZGxlciIsImluaXRpYWxTdGF0ZUNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImluaXRpYWxTdGF0ZSIsInBhcnNlIiwidGV4dENvbnRlbnQiLCJpbml0IiwiZGF0YUF0dHJpYnV0ZSIsImNvbXB1dGVWYWx1ZSIsInN0ciIsInBhdGgiLCJmaWx0ZXJzIiwic3BsaXQiLCJ2YWx1ZSIsImdldFN0YXRlVmFsdWVCeVN0cmluZyIsImVsZW1lbnQiLCJmb3JtYXR0ZXJOYW1lIiwidHJpbSIsImZvcm1hdHRlcnMiLCJwcm9wZXJ0aWVzIiwiY3VycmVudFByb3BlcnR5Iiwic2hpZnQiLCJsZW5ndGgiLCJqb2luIiwid2luZG93IiwiU2hvcGlmeSIsImZvcm1hdE1vbmV5IiwicXVhbnRpdHlCdXR0b25DbGlja0hhbmRsZXIiLCJwcmV2ZW50RGVmYXVsdCIsIml0ZW1LZXkiLCJxdWFudGl0eSIsInRoaXMiLCJnZXRBdHRyaWJ1dGUiLCJwYXJzZUludCIsInRvZ2dsZUNsYXNzQnV0dG9uQ2xpY2tIYW5kbGVyIiwicGFyYW1ldGVycyIsImNzc0NsYXNzIiwiYWN0aW9uIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwidG9nZ2xlIiwic3RhdGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5uZXJUZXh0Iiwic2VjdGlvbnMiLCJzZWN0aW9uSWQiLCJzZWN0aW9uTm9kZUNoaWxkIiwibm9JZCIsInNjcm9sbEFyZWFzTGlzdCIsIm9sZFNlY3Rpb25Ob2RlIiwicGFyZW50Tm9kZSIsInNjcm9sbEFyZWFOb2RlIiwic2Nyb2xsSWQiLCJ0b1N0cmluZyIsInNjcm9sbFRvcCIsImluc2VydEFkamFjZW50SFRNTCIsIm5ld1NlY3Rpb25Ob2RlIiwicHJldmlvdXNTaWJsaW5nIiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwicmVwbGFjZSIsInNjcm9sbEFyZWFJbmRleCIsInNlY3Rpb25OYW1lcyIsInNlY3Rpb25JZEhUTUwiLCJpZCIsImluZGV4T2YiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwibWF0Y2hlcyIsInByb2Nlc3Nlc0Ftb3VudCIsIldlYWtNYXAiLCJ1cGRhdGVGb3JtSFRNTCIsImZvcm0iLCJlcnJvck1lc3NhZ2UiLCJlcnJvcnNDb250YWluZXIiLCJmb3JtUHJvY2Vzc2VzQW1vdW50IiwiYnV0dG9uIiwiZGlzYWJsZWQiLCJwcm9jZXNzZXNBbW91bnRCZWZvcmUiLCJVUkwiLCJwYXRobmFtZSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJwcm9kdWN0SnNvbiIsInBhaXIiLCJpbmNsdWRlcyIsInNsaWNlIiwic2V0IiwiaXRlbXMiLCJkZXNjcmlwdGlvbiIsIm1lc3NhZ2UiLCJmaW5hbGx5IiwicHJvY2Vzc2VzQW1vdW50QWZ0ZXIiLCJpdGVtX2NvdW50Il0sInNvdXJjZVJvb3QiOiIifQ==