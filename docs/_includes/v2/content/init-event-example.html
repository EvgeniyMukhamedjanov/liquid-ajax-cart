{%- capture highlight_code -%}

function runWhenLiquidAjaxCartInit() {
  // The "cart" property is available only after initialization
  console.log(window.liquidAjaxCart.cart);
}

if (window.liquidAjaxCart?.init) {
  // if Liquid Ajax Cart is already initialized
  runWhenLiquidAjaxCartInit();
} else {
  // wait for Liquid Ajax Cart to be initialized
  document.addEventListener("liquid-ajax-cart:init", runWhenLiquidAjaxCartInit);
}

{%- endcapture -%}
{% include v2/codeblock.html title="assets/script.js" language="javascript" code=highlight_code %}