{%- capture highlight_code -%}
// Listen for the "liquid-ajax-cart:request-end" event which is fired
// after a Shopify Cart API Ajax request is performed
document.addEventListener('liquid-ajax-cart:request-end', event => {
  const {requestState} = event.detail;

  // If the "add to cart" request is successful
  if (requestState.requestType === 'add' && requestState.responseData?.ok) {

    // Add the CSS class to the "body" tag
    document.body.classList.add('js-show-ajax-cart');
  }
});
{%- endcapture -%}
{% unless include.no_title %}{% assign code_title = "assets/script.js" %}{% endunless %}
{% include v2/codeblock.html title=code_title language="javascript" code=highlight_code %}