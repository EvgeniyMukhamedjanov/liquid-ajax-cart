---
layout: default-v2
h_min: 2
---

<style>
  {% capture critical_css %}
  {% include v2/styles/side-menu.scss %}
  {% include v2/styles/markdown.scss %}
  {% include v2/styles/docs-page.scss %}
  {% include v2/styles/tabs.scss %}
  {% include v2/styles/steps-list.scss %}
  {% endcapture %}
  {{ critical_css | scssify }}
</style>

{%- assign docs_eyebrow = '' -%}

<script type="module">
  let abortController;
  let currentUrl;
  let currentHash = '';
  const docsPageUrlPrefix = "/v2/docs/";

  window.addEventListener("popstate", (event) => {
    const url = event.state?.url;
    if (!url) return;
    pageRequest(url);
  });

  document.addEventListener('click', event => {
    const $pressedLink = event.target.closest(`a[href*="${docsPageUrlPrefix}"]`);
    if (!$pressedLink) return;

    const requestUrl = $pressedLink.href;
    if (pageRequest(requestUrl)) {
      history.pushState(
        { url: requestUrl },
        "",
        `${requestUrl}`);

      event.preventDefault();
    }


    event.preventDefault();
  });

  function pageRequest(url = '') {
    if (url.indexOf(docsPageUrlPrefix) === -1) {
      window.location.href = url;
      return false;
    }

    try {
      document.querySelectorAll("[data-docs-page='link-wrapper']").forEach($item => {
        $item.classList.remove("side-menu__link--active");
      });
      const pageHandle = url.split(docsPageUrlPrefix).at(-1).split('/').at(0).trim();
      const requestUrl = `${docsPageUrlPrefix}${pageHandle}${pageHandle && '/'}`;
      const $navLink = document.querySelector(`[data-docs-page='link-wrapper'] a[href="${requestUrl}"]`);
      const $navLinkWrapper = $navLink.closest("[data-docs-page='link-wrapper']");
      $navLinkWrapper.classList.add("side-menu__link--active");

      document.body.classList.add('js-docs-page-loading');

      if (abortController) {
        abortController.abort();
      }
      abortController = new AbortController();

      currentUrl = requestUrl;
      currentHash = new URL(requestUrl).hash;
      fetch(requestUrl, {
        signal: abortController.signal
      }).then(response => {
        return response.text();
      }).then(html => {
        if (currentUrl === requestUrl) {
          const $newDoc = new DOMParser().parseFromString(html, 'text/html');
          const $newContent = $newDoc.querySelector("[data-docs-page='content']");
          const $newPageMenu = $newDoc.querySelector("[data-docs-page='page-menu']");
          const $curContent = document.querySelector("[data-docs-page='content']");
          const $curPageMenu = document.querySelector("[data-docs-page='page-menu']");
          $curPageMenu.insertAdjacentElement('afterend', $newPageMenu);
          $curContent.insertAdjacentElement('afterend', $newContent);
          $curPageMenu.remove();
          $curContent.remove();
          window.scrollTo({
            top: 0,
            left: 0,
            behavior: "instant"
          });
          Prism.highlightAll();
          document.body.classList.remove('js-docs-page-loading');
          if (currentHash) {
            const $pageMenuLink = document.querySelector(`[data-docs-page="page-menu"] a[href="${currentHash}"]`);
            if ($pageMenuLink) {
              $pageMenuLink.click();
            }
          }
        }
      }).catch(error => {
        if (error.name === "AbortError") return;
        if (currentUrl === requestUrl) {
          window.location.href = requestUrl;
        }
      });

      return true;
    } catch (e) {
      window.location.href = url;
      return false;
    }
  }
</script>

<div class="docs-page">
  <input type="checkbox" class="docs-page__nav-toggle-input" id="section-nav-toggle">
  <label for="section-nav-toggle" class="docs-page__nav-toggle-line header-nav">
    <span class="container">
      <span class="header-nav__wrapper">
        <span style="display: flex; align-items: center; gap: .5rem;">
          <span class="header-nav__toggle-button"><span></span></span>
          Docs menu
        </span>
      </span>
    </span>
  </label>
  <label for="section-nav-toggle" class="docs-page__section-nav-overlay"></label>
  <div class="container">
    <div class="docs-page__main-wrapper">
      <div class="docs-page__section-nav">
        <label for="section-nav-toggle" class="docs-page__section-nav-close">Close</label>
        <nav class="docs-page__section-nav-wrapper">
          <ul class="side-menu">
            {%- for docs_section in site.links_v2.docs -%}
              <li class="side-menu__section">
                <div class="side-menu__section-title">
                  {{- docs_section.title | escape -}}
                </div>
                <ul class="side-menu__section-content">
                  {%- for docs_subsection in docs_section.subsections -%}
                    <li class="side-menu__subsection">
                      {%- if docs_subsection.title and docs_subsection.title != '' -%}
                        <div class="side-menu__subsection-title">
                          {{- docs_subsection.title | escape -}}
                        </div>
                      {%- endif -%}
                      <ul class="side-menu__subsection-content">
                        {%- for docs_link in docs_subsection.links -%}
                          {%- assign is_docs_link_active = false -%}
                          {%- assign docs_link_md_file = docs_link.file | append: '.md' -%}
                          {%- if page.name == docs_link_md_file -%}
                            {%- assign is_docs_link_active = true -%}
                            {%- assign docs_eyebrow = docs_link.eyebrow
                              | default: docs_subsection.eyebrow
                              | default: docs_section.eyebrow
                              | default: docs_subsection.title -%}
                          {%- endif -%}
                          <li class="side-menu__link {% if is_docs_link_active %}side-menu__link--active{% endif %}"
                              data-docs-page="link-wrapper">
                            <a href="/v2/docs/{{ docs_link.file | append: '/' | replace: 'index/', '' }}"
                            >
                              {{- docs_link.title | escape -}}
                            </a>
                          </li>
                        {%- endfor -%}
                      </ul>
                    </li>
                  {%- endfor -%}
                </ul>
              </li>
            {%- endfor -%}
          </ul>
        </nav>
      </div>
      <div class="docs-page__content" data-docs-page="content">
        <div class="docs-page__breadcrumbs">
          {{- docs_eyebrow | escape -}}
        </div>
        <div class="markdown">
          {% include jekyll-docs-theme/anchor_headings.html %}
        </div>
      </div>
      <div class="docs-page__page-menu" data-docs-page="page-menu">
        <div class="docs-page__page-menu-wrapper">
          {% unless page.disable_toc %}
            <nav class="side-menu">
              <div class="side-menu__section">
                <div class="side-menu__section-title" style="color: #717171; margin-left: 1rem;">
                  On this page
                </div>
                <div class="side-menu__section-content">
                  <div class="side-menu__subsection">
                    {% include jekyll-docs-theme/toc.html
                      class="side-menu__subsection-content"
                      item_class="side-menu__link"
                    %}
                  </div>
                </div>
              </div>
            </nav>
          {% endunless %}
        </div>
      </div>
    </div>
  </div>
</div>
